<div class="auth">
  <div class="auth-form">
    <form class="auth-form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <h2>Sign Up</h2>
      <div class="small-form">
        <label class="control-label">
          Name
          <input
            formControlName="name"
            type="text"
            placeholder="Enter name"
            class="auth-input"
          />
        </label>
        @if(registerForm.get('name')?.errors?.['required']) {
        <small>Name is required.</small>
        } @if (registerForm.value.name) { @if
        (registerForm.get('name')?.errors?.['minlength']) {
        <small>Minimum 2 characters required.</small>}}
      </div>

      <div class="small-form">
        <label class="control-label">
          Email
          <input
            formControlName="email"
            type="email"
            placeholder="Enter email"
            class="auth-input"
          />
        </label>
        @if(registerForm.get('email')?.errors?.['required']) {
        <small>Email is required.</small>
        } @if (registerForm.value.email) { @if
        (registerForm.get('email')?.errors?.['pattern']) {
        <small>Please enter a valid email.</small>}}
      </div>

      <div class="small-form">
        <label class="control-label">
          Password (example: <strong>1!qQ</strong> )
          <input
            formControlName="password"
            type="password"
            placeholder="Enter password"
            class="auth-input"
          />
        </label>

        @if( registerForm.get('password')?.errors?.['required']) {
        <small>Password is required.</small> } @if
        (registerForm.value.password){ @for (item of passwordErrors; track item)
        { @if (registerForm.get('password')?.errors?.[item.error]) {
        <small>{{ item.message }}</small
        >} }}
      </div>

      <div class="small-form">
        <label class="control-label">
          Confirm password
          <input
            formControlName="confirmPassword"
            type="password"
            placeholder="Confirm password"
            class="auth-input"
          />
        </label>
        @if (registerForm.get('confirmPassword')?.invalid &&
        registerForm.get('confirmPassword')?.touched ) { @if
        (registerForm.get('confirmPassword')?.errors?.['mismatch']) {
        <small>Passwords do not match.</small>
        } }
      </div>
      <button type="submit" class="btn btn-shadow">Sign Up</button>
    </form>

    <button class="btn btn-shadow" (click)="auth0login()">Auth0</button>
  </div>
</div>

<div class="auth">
  <nav>
    <app-logo
      [angularWidth]="angularWidth"
      [nestjsWidth]="nestjsWidth"
    ></app-logo>
    <ul class="logo-nav">
      <li>
        <a routerLink="/auth/sign_in" class="menu-item bg">Sign in</a>
      </li>
      <li>
        <a routerLink="/" class="menu-item bg">Welcome</a>
      </li>
    </ul>
  </nav>
</div>
